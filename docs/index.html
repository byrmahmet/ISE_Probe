<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .cm {
  color: #999988;
  font-style: italic;
}
.highlight .cp {
  color: #999999;
  font-weight: bold;
}
.highlight .c1 {
  color: #999988;
  font-style: italic;
}
.highlight .cs {
  color: #999999;
  font-weight: bold;
  font-style: italic;
}
.highlight .c, .highlight .cd {
  color: #999988;
  font-style: italic;
}
.highlight .err {
  color: #a61717;
  background-color: #e3d2d2;
}
.highlight .gd {
  color: #000000;
  background-color: #ffdddd;
}
.highlight .ge {
  color: #000000;
  font-style: italic;
}
.highlight .gr {
  color: #aa0000;
}
.highlight .gh {
  color: #999999;
}
.highlight .gi {
  color: #000000;
  background-color: #ddffdd;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
  font-weight: bold;
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .gt {
  color: #aa0000;
}
.highlight .kc {
  color: #000000;
  font-weight: bold;
}
.highlight .kd {
  color: #000000;
  font-weight: bold;
}
.highlight .kn {
  color: #000000;
  font-weight: bold;
}
.highlight .kp {
  color: #000000;
  font-weight: bold;
}
.highlight .kr {
  color: #000000;
  font-weight: bold;
}
.highlight .kt {
  color: #445588;
  font-weight: bold;
}
.highlight .k, .highlight .kv {
  color: #000000;
  font-weight: bold;
}
.highlight .mf {
  color: #009999;
}
.highlight .mh {
  color: #009999;
}
.highlight .il {
  color: #009999;
}
.highlight .mi {
  color: #009999;
}
.highlight .mo {
  color: #009999;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #009999;
}
.highlight .sb {
  color: #d14;
}
.highlight .sc {
  color: #d14;
}
.highlight .sd {
  color: #d14;
}
.highlight .s2 {
  color: #d14;
}
.highlight .se {
  color: #d14;
}
.highlight .sh {
  color: #d14;
}
.highlight .si {
  color: #d14;
}
.highlight .sx {
  color: #d14;
}
.highlight .sr {
  color: #009926;
}
.highlight .s1 {
  color: #d14;
}
.highlight .ss {
  color: #990073;
}
.highlight .s {
  color: #d14;
}
.highlight .na {
  color: #008080;
}
.highlight .bp {
  color: #999999;
}
.highlight .nb {
  color: #0086B3;
}
.highlight .nc {
  color: #445588;
  font-weight: bold;
}
.highlight .no {
  color: #008080;
}
.highlight .nd {
  color: #3c5d5d;
  font-weight: bold;
}
.highlight .ni {
  color: #800080;
}
.highlight .ne {
  color: #990000;
  font-weight: bold;
}
.highlight .nf {
  color: #990000;
  font-weight: bold;
}
.highlight .nl {
  color: #990000;
  font-weight: bold;
}
.highlight .nn {
  color: #555555;
}
.highlight .nt {
  color: #000080;
}
.highlight .vc {
  color: #008080;
}
.highlight .vg {
  color: #008080;
}
.highlight .vi {
  color: #008080;
}
.highlight .nv {
  color: #008080;
}
.highlight .ow {
  color: #000000;
  font-weight: bold;
}
.highlight .o {
  color: #000000;
  font-weight: bold;
}
.highlight .w {
  color: #bbbbbb;
}
.highlight {
  background-color: #f8f8f8;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;cpp&quot;,&quot;python&quot;,&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="cpp">cpp</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li>for firmware version 1a</li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>The ISE (Ion Specific Electrode) Probe Interface can be used to read any probe that outputs a voltage in the range of -1024 mV to 1024 mV. pH and ORP are supported with specific libraries, but it is very easy to use another mV based probe by extending the library.</p>

<h2 id="characteristics">Characteristics</h2>

<ul>
<li><strong>mV Measurement range</strong>: -1024 mV to 1024 mV</li>
<li><strong>mV Accuracy</strong>: ± 1 mV</li>
<li><strong>Temperature range</strong>: -2 to 35 C</li>
<li><strong>Temperature Precision</strong>: 0.05 C</li>
<li><strong>Interface</strong>: I2C</li>
<li><strong>Current use</strong>: ~10mA peak, low idle current ~1mA</li>
<li><strong>Supply voltage range</strong>: 3.3 to 5.5V</li>
</ul>

<h1 id="connections">Connections</h1>

<h2 id="i2c-connections">I2C Connections</h2>

<p>Connection to the device is as follows:</p>

<table><thead>
<tr>
<th style="text-align: center">ISE Probe Interface</th>
<th style="text-align: center">Master device</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">GND</td>
<td style="text-align: center">GND</td>
</tr>
<tr>
<td style="text-align: center">SCL</td>
<td style="text-align: center">SCL</td>
</tr>
<tr>
<td style="text-align: center">SDA</td>
<td style="text-align: center">SDA</td>
</tr>
<tr>
<td style="text-align: center">3.3/5v</td>
<td style="text-align: center">3.3 - 5V</td>
</tr>
</tbody></table>

<h2 id="temperature-sensor-connections">Temperature Sensor Connections</h2>

<p>The temperature probe comes with a 3-wire header; any 3-wire DS18B20 will work. The VCC pin is labeled with a triangle:</p>

<table><thead>
<tr>
<th style="text-align: center">ISE Probe Interface</th>
<th style="text-align: center">Temperature Probe</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">▲ (VCC)</td>
<td style="text-align: center">▲</td>
</tr>
<tr>
<td style="text-align: center">(Data)</td>
<td style="text-align: center">(pin 2)</td>
</tr>
<tr>
<td style="text-align: center">(GND)</td>
<td style="text-align: center">(pin 3)</td>
</tr>
</tbody></table>

<p>A standalone DS18B20 can be directly connected to the board, no resistor is required.</p>

<h2 id="i2c-bus-pull-ups">I2C Bus Pull-ups</h2>

<p>Each device comes with 4.7k resistor pullups on the I2C bus. They pass through a 3-pad solder paste jumper. The outer pads are connected to the middle by thin traces. To disable the pullups, use a utility knife to cut both traces. To re-enable the pullups, connect all three pads together with solder.</p>

<h1 id="getting-started">Getting Started</h1>

<p>To start developing with the device, you need to install a library.</p>

<ul>
<li><p><strong>Arduino IDE</strong>:  go to the library manager (Sketch / Include Library / Manage Libraries&hellip;) and search for ISE Probe.</p></li>
<li><p><strong>PlatformIO</strong>: install the library using the library manager (PlatformIO / PlatformIO Home / Libraries), search for ISE Probe.</p></li>
<li><p><strong>Particle.io</strong>: search for ISE_Probe_Interface in the Libraries section of the IDE.</p></li>
<li><p><strong>MicroPython</strong>: clone the <a href="https://github.com/u-fire/ISE_Probe">GitHub repo</a>. In the python/MicroPython directory, you will find the files for various boards and their accompanying README files with instructions.</p></li>
<li><p><strong>Raspberry Pi</strong>:  clone the <a href="https://github.com/u-fire/ISE_Probe">GitHub repo</a>. In the python/RaspberryPi directory, you will find the files for various boards and their accompanying README files with instructions. Be sure to read the section below for instructions.</p></li>
<li><p><strong>Rust</strong>: Download/install/documentation for the <a href="https://crates.io/crates/ufire_ise">crate</a></p></li>
</ul>

<h2 id="raspberry-pi">Raspberry Pi</h2>

<p>Before you can run anything, you will need to enable software I2C; the Pi&rsquo;s hardware implementation has a clock-stretching bug that will prevent it from working with the probe (or any other device that uses clock-stretching).</p>

<ol>
<li><code class="prettyprint">sudo nano /boot/config.txt</code> and scroll to the bottom</li>
<li><p>Add
<code class="prettyprint">dtoverlay=i2c-gpio,i2c_gpio_sda=&lt;pin&gt;,i2c_gpio_scl=&lt;pin&gt;</code>
replacing <code class="prettyprint">&lt;pin&gt;</code> with whatever pin you&rsquo;d like to use. Refer <a href="https://docs.microsoft.com/en-us/windows/iot-core/media/pinmappingsrpi/rp2_pinout.png">here</a> for the pin functions, you will need to use the orange GPIO xx labels in the picture to locate the pins.</p></li>
<li><p><code class="prettyprint">ctrl + x</code> to exit, <code class="prettyprint">y</code> to save, and <code class="prettyprint">enter</code> to confirm the filename.</p></li>
<li><p>Reboot</p></li>
</ol>

<h2 id="the-shell-example">The <code class="prettyprint">shell</code> Example</h2>

<p>An interactive shell interface is provided and is a quick and easy way to get started using the device. You will find the equivalent commands in the code area to the right when applicable. Upload it to your master device and start a serial terminal. You will be presented with a <code class="prettyprint">&gt;</code> prompt where you can enter commands and receive a response, similar to a shell command line or REPL. It is often quicker to experiment this way rather than rewriting, compiling, and uploading new versions every time.</p>

<h2 id="changing-the-i2c-address">Changing the I2C Address</h2>

<p>If needed, the I2C address can be changed by calling <code class="prettyprint">setI2CAddress()</code>. The device will permanently change it&rsquo;s address and continue to use it after a power reset. If you forget the new address, you will need to use an I2C bus scanner to locate it again.</p>

<h1 id="calibration">Calibration</h1>

<p>There are two calibration options, single point and dual point. Single point calibration is a simple offset to the measured value. It is best suited for a sensor that displays linear measurements in the range of interest. Dual point calibration is used when the probe results are not linear over the entire range. Two points are selected, the high and low end of expected measurements.</p>

<h3 id="single-point">Single Point</h3>
<pre class="highlight cpp tab-cpp"><code><span class="n">ISE_Probe</span> <span class="n">ISE</span><span class="p">;</span>

<span class="n">ISE</span><span class="p">.</span><span class="n">calibrateSingle</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>  <span class="c1">// the low measurement being 20 mV
</span></code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">iseprobe</span> <span class="kn">import</span> <span class="n">iseprobe</span>

<span class="n">ISE</span> <span class="o">=</span> <span class="n">iseprobe</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="n">ISE</span><span class="o">.</span><span class="n">calibrateSingle</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>  <span class="c"># the low measurement being 20 mV</span>
</code></pre><pre class="highlight shell tab-shell"><code>  cal 7.0
</code></pre>
<p>Single point calibration is done in the mV unit. To begin a single point calibration, submerge the probe and wait for the readings to stabilize. Then call <code class="prettyprint">calibrateSingle</code> and pass the value the probe should be reading in mV. After calling it, the results are saved in the device&rsquo;s EEPROM and used automatically.</p>

<p>As an example, if an ORP probe is reading 560 mV in a 600 mV solution, call <code class="prettyprint">calibrateSingle(600)</code>.</p>

<h3 id="dual-point">Dual Point</h3>

<p>Alternatively, you can use dual point calibration between two predesignated points. Two calibration solutions are required, the low and high values in mV you expect to measure between.</p>
<pre class="highlight cpp tab-cpp"><code><span class="n">ISE</span><span class="p">.</span><span class="n">calibrateProbeLow</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>  <span class="c1">// after measurement, clean probe and place in high solution
</span><span class="n">ISE</span><span class="p">.</span><span class="n">calibrateProbeHigh</span><span class="p">(</span><span class="mi">140</span><span class="p">);</span>
<span class="n">ISE</span><span class="p">.</span><span class="n">useDualPoint</span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">ISE</span><span class="o">.</span><span class="n">calibrateProbeLow</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="c"># after measurement, clean probe and place in high solution</span>
<span class="n">ISE</span><span class="o">.</span><span class="n">calibrateProbeHigh</span><span class="p">(</span><span class="mi">140</span><span class="p">)</span>
<span class="n">ISE</span><span class="o">.</span><span class="n">useDualPoint</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>  low 0
  high 140
  dp 1
</code></pre>
<ol>
<li>Determine the lowest and highest measurement you expect. For example, the lowest level you might measure would be 0 mV and the highest might be 140 mV. These points will be referred to as
<code class="prettyprint">referenceLow</code> and <code class="prettyprint">referenceHigh</code></li>
<li>Put the probe in a calibration solution at <code class="prettyprint">referenceLow</code> and wait for readings to stabilize, call
<code class="prettyprint">calibrateProbeLow(0)</code>. Do the same for referenceHigh by calling <code class="prettyprint">calibrateProbeHigh(140)</code>.</li>
<li>By default, the device does not use dual points. A call to <code class="prettyprint">useDualPoint()</code> must be made to enable it. Once set, it will continue to use it automatically.</li>
</ol>

<p>You can also set all four values directly using <code class="prettyprint">setDualPointCalibration()</code>.</p>
<pre class="highlight cpp tab-cpp"><code><span class="n">ISE</span><span class="p">.</span><span class="n">useDualPoint</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">ISE</span><span class="o">.</span><span class="n">useDualPoint</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>  dp 1
</code></pre>
<h1 id="use">Use</h1>

<h2 id="temperature-compensation">Temperature Compensation</h2>
<pre class="highlight cpp tab-cpp"><code><span class="n">ISE</span><span class="p">.</span><span class="n">useTempCompensation</span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">ISE</span><span class="o">.</span><span class="n">useTempCompensation</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>  tc 1
  tc 0
</code></pre>
<p>Temperature compensation can be used to adjust for the temperature effect on the probe. The device itself doesn&rsquo;t contain any firmware that adjusts the readings, that is left to be implemented by the probe-specific libraries. However, this is a saved setting on the device. The pH library checks this value and if <code class="prettyprint">true</code>, will take a temperature reading and adjust the measured pH accordingly.</p>

<h2 id="measurement-time">Measurement Time</h2>

<p>A mV measurement takes 500 ms. A temperature measurement takes 750ms.</p>

<h2 id="probe-maintenance">Probe Maintenance</h2>

<p>Probes require regular care. There is a fluid junction that makes an electrical connection with the solution to be measured. If a probe is left continuously submerged, the junction could potentially leak the buffer fluid from inside the probe. The concentration of sodium chloride could change over time, slowly decreasing accuracy. This can be compensated for by recalibrating the probe, but eventually, the probe will no longer be serviceable.</p>

<p>The junction can become clogged by debris or buildup. To clear a clogged junction, soak the probe in a 1:1 bleach solution. You can also use vinegar to help remove deposits on the probe.</p>

<h2 id="isolation-and-interference">Isolation and Interference</h2>

<p>Using any water quality measuring probe with another probe will likely cause interference. There are many factors that determine the amount to include the grounding of the solution, the type of probes, the solution itself, chemical reactions that may take place, etc. The only way to ensure interference doesn&rsquo;t cause faulty measurements is to isolate the circuit.</p>

<p>Each probe would need to be isolated from each other using either a galvanic isolation circuit, or connected to separated battery powered devices, transmitting information via <a href="https://github.com/u-fire/uFire_BLE">bluetooth</a> or <a href="https://github.com/u-fire/uFire_WS">WiFi</a>, for example.</p>

<h1 id="more-help">More Help</h1>

<p>If you have any questions, find a bug, or have any suggestions on improvements, go to this project&rsquo;s <a href="https://github.com/u-fire/ISE_Probe">GitHub</a> page and submit an Issue or Pull Request. Or you can send an email to <a href="mailto:questions@ufire.co">questions@ufire.co</a>.</p>

          <h1 id="class-members">Class Members</h1>

<h3 id="public-float-tempc"><code class="prettyprint">public float tempC</code></h3>

<p>Temperature in C</p>

<h3 id="public-float-tempf"><code class="prettyprint">public float tempF</code></h3>

<p>Temperature in F</p>

<h3 id="public-long-mv"><code class="prettyprint">public  long mV</code></h3>

<p>Milli-volts from the probe</p>

<h1 id="class-functions">Class Functions</h1>

<h2 id="float-measuremv"><code class="prettyprint">float measuremV()</code></h2>

<p>Starts a mV measurement.</p>
<pre class="highlight cpp tab-cpp"><code><span class="n">ISE_Probe</span><span class="o">::</span><span class="n">measuremV</span><span class="p">();</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">ISE</span><span class="o">.</span><span class="n">measuremV</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>mv
</code></pre>
<h3 id="returns">Returns</h3>

<p>the measured result in mV, -1 on error</p>

<h2 id="float-measuretemp"><code class="prettyprint">float measureTemp()</code></h2>

<p>Starts a temperature measurement.</p>
<pre class="highlight cpp tab-cpp"><code><span class="n">ISE_Probe</span><span class="o">::</span><span class="n">measureTemp</span><span class="p">();</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">ISE</span><span class="o">.</span><span class="n">measureTemp</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>temp
</code></pre>
<p>tempC and tempF are updated</p>

<p>A value of -127 means the temperature sensor is not connected.</p>

<h3 id="returns">Returns</h3>

<p>temperature in C</p>

<h2 id="void-calibratesingle-float-solutionmv"><code class="prettyprint">void calibrateSingle(float solutionmV)</code></h2>

<p>Calibrates the probe using a single point using a mV value.</p>
<pre class="highlight cpp tab-cpp"><code><span class="n">ISE_Probe</span><span class="o">::</span><span class="n">calibrateSingle</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">ISE</span><span class="o">.</span><span class="n">calibrateSingle</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>cal 200
</code></pre>
<p>The result will be saved in the device&rsquo;s EEPROM and used automatically. It takes 4.5 seconds to complete.</p>

<h2 id="void-calibrateprobelow-float-solutionmv"><code class="prettyprint">void calibrateProbeLow(float solutionmV)</code></h2>

<p>Calibrates the dual-point values for the low reading, in mV, and saves them in the devices&rsquo;s EEPROM. It takes 4.5 seconds to complete.</p>
<pre class="highlight cpp tab-cpp"><code><span class="n">ISE_Probe</span><span class="o">::</span><span class="n">calibrateProbeLow</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">ISE</span><span class="o">.</span><span class="n">calibrateProbeLow</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>low 0
</code></pre>
<h3 id="parameters">Parameters</h3>

<ul>
<li><code class="prettyprint">solutionmV</code> the mV of the calibration solution</li>
</ul>

<h2 id="void-calibrateprobehigh-float-solutionmv"><code class="prettyprint">void calibrateProbeHigh(float solutionmV)</code></h2>

<p>Calibrates the dual-point values for the high reading, in mV, and saves them in the devices&rsquo;s EEPROM. It takes 4.5 seconds to complete.</p>
<pre class="highlight cpp tab-cpp"><code><span class="n">ISE_Probe</span><span class="o">::</span><span class="n">calibrateProbeHigh</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">ISE</span><span class="o">.</span><span class="n">calibrateProbeHigh</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>high 200
</code></pre>
<h3 id="parameters">Parameters</h3>

<ul>
<li><code class="prettyprint">solutionmV</code> the mV of the calibration solution</li>
</ul>

<h2 id="void-setdualpointcalibration-float-reflow-float-refhigh-float-readlow-float-readhigh"><code class="prettyprint">void setDualPointCalibration(float refLow,float refHigh,float readLow,float readHigh)</code></h2>

<p>Sets all the values, in mV, for dual point calibration and saves them in the devices&rsquo;s EEPROM. </p>
<pre class="highlight cpp tab-cpp"><code><span class="n">ISE_Probe</span><span class="o">::</span><span class="n">setDualPointCalibration</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">230</span><span class="p">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">ISE</span><span class="o">.</span><span class="n">setDualPointCalibration</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">230</span><span class="p">)</span>
</code></pre>
<h3 id="parameters">Parameters</h3>

<ul>
<li><p><code class="prettyprint">refLow</code> the reference low point</p></li>
<li><p><code class="prettyprint">refHigh</code> the reference high point</p></li>
<li><p><code class="prettyprint">readLow</code> the measured low point</p></li>
<li><p><code class="prettyprint">readHigh</code> the measured high point</p></li>
</ul>

<h2 id="float-getcalibrateoffset"><code class="prettyprint">float getCalibrateOffset()</code></h2>

<p>Returns the single-point offset from the device.</p>
<pre class="highlight cpp tab-cpp"><code><span class="kt">float</span> <span class="n">offset</span> <span class="o">=</span> <span class="n">ISE_Probe</span><span class="o">::</span><span class="n">getCalibrateOffset</span><span class="p">();</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">offset</span> <span class="o">=</span> <span class="n">ISE</span><span class="o">.</span><span class="n">getCalibrateOffset</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>cal
</code></pre>
<h3 id="returns">Returns</h3>

<p>the probe&rsquo;s offset</p>

<h2 id="void-usetemperaturecompensation-bool-b"><code class="prettyprint">void useTemperatureCompensation(bool b)</code></h2>

<p>Configures the device to use temperature compensation.</p>
<pre class="highlight cpp tab-cpp"><code><span class="n">ISE_Probe</span><span class="o">::</span><span class="n">useTemperatureCompensation</span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">ISE</span><span class="o">.</span><span class="n">useTemperatureCompensation</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>tc 1
</code></pre>
<h3 id="parameters">Parameters</h3>

<ul>
<li><code class="prettyprint">b</code> true for false</li>
</ul>

<h2 id="bool-usingtemperaturecompensation"><code class="prettyprint">bool usingTemperatureCompensation()</code></h2>

<p>Determines if temperature compensation is being used.</p>
<pre class="highlight cpp tab-cpp"><code><span class="kt">bool</span> <span class="n">usingTemp</span> <span class="o">=</span> <span class="n">ISE_Probe</span><span class="o">::</span><span class="n">usingTemperatureCompensation</span><span class="p">();</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">usingTemp</span> <span class="o">=</span> <span class="n">ISE</span><span class="o">.</span><span class="n">usingTemperatureCompensation</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>tc
</code></pre>
<h3 id="returns">Returns</h3>

<p>true if using compensation, false otherwise</p>

<h2 id="void-useaveraging-bool-b"><code class="prettyprint">void useAveraging(bool b)</code></h2>

<p>Configures device to use averaging.</p>
<pre class="highlight cpp tab-cpp"><code><span class="n">ISE_Probe</span><span class="o">::</span><span class="n">useAveraging</span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">ISE</span><span class="o">.</span><span class="n">useAveraging</span><span class="p">(</span><span class="bp">True</span><span class="p">);</span>
</code></pre>
<h3 id="parameters">Parameters</h3>

<ul>
<li><code class="prettyprint">b</code> true or false</li>
</ul>

<h2 id="void-usedualpoint-bool-b"><code class="prettyprint">void useDualPoint(bool b)</code></h2>

<p>Configures device to use dual-point calibration.</p>
<pre class="highlight cpp tab-cpp"><code><span class="n">ISE_Probe</span><span class="o">::</span><span class="n">useDualPoint</span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">ISE</span><span class="o">.</span><span class="n">useDualPoint</span><span class="p">(</span><span class="bp">True</span><span class="p">);</span>
<span class="sb">``</span><span class="err">`</span><span class="n">shell</span>
<span class="n">dp</span> <span class="mi">1</span>
</code></pre>
<h3 id="parameters">Parameters</h3>

<ul>
<li><code class="prettyprint">b</code> true or false</li>
</ul>

<h2 id="bool-usingdualpoint"><code class="prettyprint">bool usingDualPoint()</code></h2>

<p>Determines if dual point calibration is being used.</p>
<pre class="highlight cpp tab-cpp"><code><span class="kt">bool</span> <span class="n">usingTemp</span> <span class="o">=</span> <span class="n">ISE_Probe</span><span class="o">::</span><span class="n">usingDualPoint</span><span class="p">();</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">usingTemp</span> <span class="o">=</span> <span class="n">ISE</span><span class="o">.</span><span class="n">usingDualPoint</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>dp
</code></pre>
<h3 id="returns">Returns</h3>

<p>true if using compensation, false otherwise</p>

<h2 id="float-getcalibratehighreference"><code class="prettyprint">float getCalibrateHighReference()</code></h2>

<p>Returns the dual-point calibration high reference value.</p>
<pre class="highlight cpp tab-cpp"><code><span class="kt">float</span> <span class="n">calHigh</span> <span class="o">=</span> <span class="n">ISE_Probe</span><span class="o">::</span><span class="n">getCalibrateHighReference</span><span class="p">();</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">calHigh</span> <span class="o">=</span> <span class="n">ISE</span><span class="o">.</span><span class="n">getCalibrateHighReference</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>high
</code></pre>
<h3 id="returns">Returns</h3>

<p>the dual-point calibration high reference value</p>

<h2 id="float-getcalibratelowreference"><code class="prettyprint">float getCalibrateLowReference()</code></h2>

<p>Returns the dual-point calibration low reference value.</p>
<pre class="highlight cpp tab-cpp"><code><span class="kt">float</span> <span class="n">calLow</span> <span class="o">=</span> <span class="n">ISE_Probe</span><span class="o">::</span><span class="n">getCalibrateLowReference</span><span class="p">();</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">calLow</span> <span class="o">=</span> <span class="n">ISE</span><span class="o">.</span><span class="n">getCalibrateLowReference</span><span class="p">()</span>
</code></pre><pre class="highlight cpp tab-cpp"><code><span class="n">low</span>
</code></pre>
<h3 id="returns">Returns</h3>

<p>the dual-point calibration low reference value</p>

<h2 id="uint8_t-getversion"><code class="prettyprint">uint8_t getVersion()</code></h2>

<p>Returns the firmware version of the device.</p>
<pre class="highlight cpp tab-cpp"><code><span class="kt">uint8_t</span> <span class="n">version</span> <span class="o">=</span> <span class="n">ISE_Probe</span><span class="o">::</span><span class="n">getVersion</span><span class="p">();</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">version</span> <span class="o">=</span> <span class="n">ISE</span><span class="o">.</span><span class="n">getVersion</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>version
</code></pre>
<h3 id="returns">Returns</h3>

<p>version of firmware</p>

<h2 id="void-reset"><code class="prettyprint">void reset()</code></h2>

<p>Resets all the stored calibration information.</p>

          <h1 id="ph-measurement">pH Measurement</h1>

<p>The ISE Probe Interface can measure pH with a pH probe attached. Including <code class="prettyprint">#include &quot;ISE_pH.h&quot;</code> will give access to all of the previously described API functions, in addition to <code class="prettyprint">measurepH()</code>. <code class="prettyprint">calibrateSingle()</code>, <code class="prettyprint">calibrateProbeLow()</code>, and <code class="prettyprint">calibrateProbeHigh()</code> take a pH unit value rather than a mV value if using the pH library.</p>

<h2 id="float-measureph"><code class="prettyprint">float measurepH()</code></h2>

<p>Starts a pH measurement.</p>
<pre class="highlight cpp tab-cpp"><code><span class="n">ISE_pH</span><span class="o">::</span><span class="n">measurepH</span><span class="p">();</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">pH</span><span class="o">.</span><span class="n">measurepH</span><span class="p">()</span>
</code></pre>
<h3 id="returns">Returns</h3>

<p>the measured result in pH, or -1 on error</p>

<h2 id="void-calibratesingle-float-solutionph"><code class="prettyprint">void calibrateSingle(float solutionpH)</code></h2>

<p>Calibrates the probe using a single point using a pH value. It takes 4.5 seconds to complete.</p>
<pre class="highlight cpp tab-cpp"><code><span class="n">ISE_pH</span><span class="o">::</span><span class="n">calibrateSingle</span><span class="p">(</span><span class="mf">7.0</span><span class="p">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">pH</span><span class="o">.</span><span class="n">calibrateSingle</span><span class="p">(</span><span class="mf">7.0</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>cal 7.0
</code></pre>
<p>The result will be saved in the device&rsquo;s EEPROM and used automatically.</p>

<h2 id="void-calibrateprobelow-float-solutionph"><code class="prettyprint">void calibrateProbeLow(float solutionpH)</code></h2>

<p>Calibrates the dual-point values for the low reading, in pH, and saves them in the devices&rsquo;s EEPROM. It takes 4.5 seconds to complete.</p>
<pre class="highlight cpp tab-cpp"><code><span class="n">ISE_pH</span><span class="o">::</span><span class="n">calibrateProbeLow</span><span class="p">(</span><span class="mf">4.0</span><span class="p">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">pH</span><span class="o">.</span><span class="n">calibrateProbeLow</span><span class="p">(</span><span class="mf">4.0</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>low 4.0
</code></pre>
<h3 id="parameters">Parameters</h3>

<ul>
<li><code class="prettyprint">solutionpH</code> the mV of the calibration solution</li>
</ul>

<h2 id="void-calibrateprobehigh-float-solutionph"><code class="prettyprint">void calibrateProbeHigh(float solutionpH)</code></h2>

<p>Calibrates the dual-point values for the high reading, in pH, and saves them in the devices&rsquo;s EEPROM. It takes 4.5 seconds to complete. </p>
<pre class="highlight cpp tab-cpp"><code><span class="n">ISE_pH</span><span class="o">::</span><span class="n">calibrateProbeHigh</span><span class="p">(</span><span class="mf">10.0</span><span class="p">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">pH</span><span class="o">.</span><span class="n">calibrateProbeHigh</span><span class="p">(</span><span class="mf">10.0</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>high 10.0
</code></pre>
<h3 id="parameters">Parameters</h3>

<ul>
<li><code class="prettyprint">solutionpH</code> the mV of the calibration solution</li>
</ul>

          <h1 id="orp-measurement">ORP Measurement</h1>

<p>The ISE Probe Interface can measure ORP with an ORP probe attached. Including <code class="prettyprint">#include &quot;ISE_ORP.h&quot;</code> will give access to all of the previously described API functions, in addition to <code class="prettyprint">measureORP()</code>. Additionally, Eh is calculated; two methods are included for Eh, <code class="prettyprint">setProbePotential()</code> and <code class="prettyprint">getProbePotential()</code>.</p>

<h2 id="float-measureorp"><code class="prettyprint">float measureORP()</code></h2>

<p>Starts an ORP measurement. ISE_ORP::ORP and ISE_ORP::Eh are updated.</p>
<pre class="highlight cpp tab-cpp"><code><span class="n">ISE_ORP</span><span class="o">::</span><span class="n">measureORP</span><span class="p">();</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">ORP</span><span class="o">.</span><span class="n">measureORP</span><span class="p">()</span>
</code></pre>
<h3 id="returns">Returns</h3>

<p>the measured result in mV, or -1 on error</p>

<h2 id="void-setprobepotential-uint32_t-probepotential"><code class="prettyprint">void setProbePotential(uint32_t probePotential)</code></h2>

<p>Saves the connected probe&rsquo;s potential in EEPROM so that Eh can be calculated. After setting this value, the class member ISE_ORP::Eh is automatically updated with each call to <code class="prettyprint">measureORP()</code>.</p>
<pre class="highlight cpp tab-cpp"><code><span class="n">ISE_ORP</span><span class="o">::</span><span class="n">setProbePotential</span><span class="p">(</span><span class="mi">195</span><span class="p">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">ORP</span><span class="o">.</span><span class="n">setProbePotential</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span>
</code></pre>
<h2 id="uint32_t-getprobepotential"><code class="prettyprint">uint32_t getProbePotential()</code></h2>

<p>Returns the saved probe potential from EEPROM.</p>
<pre class="highlight cpp tab-cpp"><code><span class="n">ISE_ORP</span><span class="o">::</span><span class="n">getProbePotential</span><span class="p">();</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">ORP</span><span class="o">.</span><span class="n">getProbePotential</span><span class="p">()</span>
</code></pre>
<h3 id="returns">Returns</h3>

<p>the probe potential</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="cpp">cpp</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
